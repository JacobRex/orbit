!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("../utils/dev-mode"),require("../utils/debug"),require("./Button"),require("../utils/popper"));else if("function"==typeof define&&define.amd)define(["../utils/dev-mode","../utils/debug","./Button","../utils/popper"],e);else{var i="object"==typeof exports?e(require("../utils/dev-mode"),require("../utils/debug"),require("./Button"),require("../utils/popper")):e(t["../utils/dev-mode"],t["../utils/debug"],t["./Button"],t["../utils/popper"]);for(var r in i)("object"==typeof exports?exports:t)[r]=i[r]}}("undefined"!=typeof self?self:this,function(t,e,i,r){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=879)}({0:function(t,e,i){"use strict";e.a=function(t,e,i,r,o,n,s,a){var u,c="function"==typeof t?t.options:t;e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0);r&&(c.functional=!0);n&&(c._scopeId="data-v-"+n);s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o);if(u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}},1:function(e,i){e.exports=t},2:function(t,i){t.exports=e},40:function(t,e){t.exports=r},411:function(t,e,i){"use strict";var r=i(412);e.a=r.a},412:function(t,e,i){"use strict";var r=i(2),o=(i.n(r),i(40)),n=(i.n(o),i(413)),s=i(414),a=i(881);e.a={name:"OSchooltip",props:{tipId:{type:null,default:void 0},activeTip:{type:null,default:void 0},privatePopperConfigBeware:{type:Object,default:void 0},placement:{type:String,default:"auto",validator:o.validatePlacement},offset:{type:String,default:"0, 12",validator:o.validateOffset},overflowElement:{type:String,default:"viewport",validator:o.validateOverflowElement}},inject:{layer:s.a,guide:{from:n.a,default:void 0}},data(){return{key:Symbol(this.tipId),bubbleComp:null}},computed:{cActiveTip(){return this.guide?this.guide.$attrs.activeTip:this.activeTip},cTipId(){return this.guide?this.guide.$attrs.tipId:this.tipId},popperConf(){return this.privatePopperConfigBeware?this.privatePopperConfigBeware:function(t,e,i){return{placement:t,modifiers:{offset:{offset:e},preventOverflow:{boundariesElement:i="scroll-parent"===i?"scrollParent":i}}}}(this.placement,this.offset,this.overflowElement)}},watch:{cActiveTip:"shouldShow",cTipId:"shouldShow",bubbleComp:"shouldShow"},mounted(){this.shouldShow()},beforeDestroy(){this.closeBubble()},methods:{createBubble(t){const e=this.$createElement,{$slots:i}=this;return{name:"schooltip-wrap-".concat(this.cTipId),functional:!0,render:()=>e(a.a,{key:this.key,attrs:{targetEl:t.elm,privatePopperConfigBeware:this.popperConf}},[e("template",{slot:"title"},[i.title]),e("template",{slot:"message"},[i.message]),e("template",{slot:"action"},[i.action])])}},shouldShow(){void 0!==this.cActiveTip&&this.cTipId===this.cActiveTip?this.openedBubble=this.layer.showBubble(this.bubbleComp):this.closeBubble()},closeBubble(){this.openedBubble&&(this.openedBubble(),this.openedBubble=null)}},render(){const{$slots:t}=this,e=(t.default||[]).filter(t=>t.tag);r.assert.error(1===e.length,"SchooltipBubble","You must wrap one target element");const[i]=e;return this.bubbleComp=this.createBubble(i),i},supportedPlacements:o.supportedPlacements,supportedOverflowElements:o.supportedOverflowElements}},413:function(t,e,i){"use strict";const r=Symbol("SchooltipSequence");e.a=r},414:function(t,e,i){"use strict";const r=Symbol("SchooltipAPI");e.a=r},415:function(t,e,i){"use strict";var r=i(416);e.a=r.a},416:function(t,e,i){"use strict";var r=i(40),o=i.n(r),n=i(7);i.n(n);e.a={name:"SchooltipBubble",props:{targetEl:{type:null,required:!0},privatePopperConfigBeware:{type:Object,default:void 0}},provide(){return{[n.ButtonKey]:{className:this.$s.Button}}},data(){return{config:this.privatePopperConfigBeware,afterMount:!1,targetX:0,targetY:0}},watch:{targetX:"updateTipPosition",targetY:"updateTipPosition"},mounted(){this.config.modifiers.arrow={element:this.$refs.arrow},this.popper=new o.a(this.targetEl,this.$el,this.config),setInterval(this.calculateTargetPosition,300),setTimeout(()=>{this.afterMount=!0},200)},beforeDestroy(){clearInterval(this.calculateTargetPosition),this.popper.destroy()},methods:{calculateTargetPosition(){this.targetX=this.targetEl.offsetTop,this.targetY=this.targetEl.offsetLeft},updateTipPosition(){this.popper.scheduleUpdate()}}}},417:function(t,e){t.exports={SchooltipBubble:"ðŸš€0-1-03Ym9u ðŸš€0-1-01fyTq",Arrow:"ðŸš€0-1-03WN-w",transformTransition:"ðŸš€0-1-02FE8p",Bubble:"ðŸš€0-1-02iHfL",Title:"ðŸš€0-1-03QM2W ðŸš€0-1-01Cmh6 ðŸš€0-1-01fyTq",Action:"ðŸš€0-1-02F0kv",Button:"ðŸš€0-1-02Xmvj"}},418:function(t,e,i){"use strict";var r=i(885),o=i(419),n=i(0),s=Object(n.a)(o.a,r.a,r.b,!1,null,null,null);e.a=s.exports},419:function(t,e,i){"use strict";var r=i(420);e.a=r.a},420:function(t,e,i){"use strict";var r=i(2);i.n(r);const o=new Map;e.a={name:"SchooltipLayer",props:{id:{type:null,required:!0}},data:()=>({bubble:null}),watch:{id(t,e){o.delete(e),this.registerLayer()}},beforeMount(){this.registerLayer()},beforeDestroy(){o.delete(this.id)},methods:{registerLayer(){r.assert.error(!o.has(this.id),"SchooltipLayer","Layer with id ".concat(String(this.id)," already exists")),o.set(this.id,this)}},showBubble(t,e){const i=o.get(t);return r.assert.error(i,"SchooltipLayer","Layer ".concat(String(t)," not found")),i.bubble=e,function(){i.bubble===e&&(i.bubble=null)}}}},6:function(t,e){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce(function(t,e){var o,n,s,a,u;for(s in e)if(o=t[s],n=e[s],o&&i.test(s))if("class"===s&&("string"==typeof o&&(u=o,t[s]=o={},o[u]=!0),"string"==typeof n&&(u=n,e[s]=n={},n[u]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in n)o[a]=r(o[a],n[a]);else if(Array.isArray(o))t[s]=o.concat(n);else if(Array.isArray(n))t[s]=[o].concat(n);else for(a in n)o[a]=n[a];else t[s]=e[s];return t},{})}},7:function(t,e){t.exports=i},879:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=(i.n(r),i(880)),n=i(418),s=i(887),a=i(888);i.d(e,"OSchooltip",function(){return o.a}),i.d(e,"OSchooltipLayer",function(){return n.a}),i.d(e,"SchooltipAPIProvider",function(){return s.a}),i.d(e,"Sequence",function(){return a.a})},880:function(t,e,i){"use strict";var r=i(411),o=i(0),n=Object(o.a)(r.a,void 0,void 0,!1,null,null,null);e.a=n.exports},881:function(t,e,i){"use strict";var r=i(882),o=i(415),n=i(884),s=i(0);var a=Object(s.a)(o.a,r.a,r.b,!1,function(t){this.$s=n.default.locals||n.default},null,null);e.a=a.exports},882:function(t,e,i){"use strict";var r=i(883);i.d(e,"a",function(){return r.a}),i.d(e,"b",function(){return r.b})},883:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o});var r=function(){var t,e=this,i=e.$createElement,r=e._self._c||i;return r("div",{class:[e.$s.SchooltipBubble,(t={},t[e.$s.transformTransition]=e.afterMount,t)]},[r("div",{ref:"arrow",class:e.$s.Arrow}),e._v(" "),r("div",{class:e.$s.Bubble},[e.$slots.title?r("div",{class:e.$s.Title},[e._t("title")],2):e._e(),e._v(" "),e._t("message"),e._v(" "),e.$slots.action?r("div",{class:e.$s.Action},[e._t("action")],2):e._e()],2)])},o=[]},884:function(t,e,i){"use strict";var r=i(417),o=i.n(r);i.d(e,"default",function(){return o.a})},885:function(t,e,i){"use strict";var r=i(886);i.d(e,"a",function(){return r.a}),i.d(e,"b",function(){return r.b})},886:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o});var r=function(){var t=this.$createElement,e=this._self._c||t;return this.bubble?e(this.bubble,{tag:"component"}):this._e()},o=[]},887:function(t,e,i){"use strict";var r=i(418),o=i(414);e.a={data:()=>({schooltipLayer:Symbol("schooltipLayer")}),provide(){return"hasLayers"in this&&!this.hasLayers?{}:{[o.a]:{showBubble:r.a.showBubble.bind(r.a,this.schooltipLayer)}}}}},888:function(t,e,i){"use strict";var r=i(6),o=i.n(r),n=i(2),s=(i.n(n),i(413));const a={provide(){const t=this;return{[s.a]:{get $attrs(){return t.$attrs}}}},render(){return this.$slots.default.filter(t=>t.tag)[0]}};e.a=function({name:t="UnnamedSequence",tips:e,getTip:i,setTip:r}){return n.assert.error(Array.isArray(e)&&e.length>0,"Schooltip Sequence",'You must pass in at least one Schooltip in sequence "'.concat(t,'"')),{name:"OSequence-".concat(t),model:{prop:"activeTip",event:"set-tip"},props:{tip:{type:[String,Number],required:!0,validator:i=>(n.assert.error(!Number.isNaN(parseInt(i,10)),"Schooltip Sequence","Tip ".concat(i,' is not a valid tip in sequence "').concat(t,'"')),n.assert.error(e[i-1],"Schooltip Sequence","Couldn't find tip ".concat(i,' in sequence "').concat(t,'"')),!0)},activeTip:{type:[String,Number],default:void 0,validator:()=>(n.assert.error("function"!=typeof i&&"function"!=typeof r,"Schooltip Sequence",'You have already passed in a state in the Sequence for "'.concat(t,'"')),!0)}},data(){return{key:Symbol(t+this.tip)}},computed:{getTip:i||function(){return this.activeTip}},methods:{setTip:r||function(t){this.$emit("set-tip",t)},nextTip(){this.setTip(this.getTip+1)},prevTip(){this.setTip(this.getTip-1)},closeSequence(){this.setTip(null)}},render(){const t=arguments[0];let i=this.$scopedSlots.default||this.$slots.default;"function"==typeof i&&(i=i({nextTip:this.nextTip,prevTip:this.prevTip,closeSequence:this.closeSequence}));let{tip:r}=this;r=parseInt(r,10);const n=e[r-1];return t(a,{attrs:{tipId:r,activeTip:this.getTip}},[t(n,o()([{key:this.key},{on:{"next-tip":this.nextTip,"prev-tip":this.prevTip,"close-sequence":this.closeSequence}}]),[i])])}}}}})});
//# sourceMappingURL=Schooltip.js.map